{"version":3,"sources":["webpack:///webpack/bootstrap beaa2f72c75024ebb344","webpack:///./public/javascripts/modules/preview.js","webpack:///./public/sass/style.scss","webpack:///./public/javascripts/instapaper-app.js"],"names":["previewEditor","document","querySelector","previewImgSrcs","Array","from","querySelectorAll","map","img","src","handleDragStart","e","index","indexOf","target","replace","window","location","href","dataTransfer","setData","style","border","handleDragEnd","handleDragOver","preventDefault","handleDrop","className","currentTargetSrc","currentDroppedSrc","parseInt","getData","targetIndex","reRenderPreview","ongoingTouchesSrcs","handleTouchStart","push","handleTouchEnd","length","indexToSwap","currentIndex","srcs","innerHTML","forEach","image","Image","setAttribute","appendChild","addEventListener"],"mappings":"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","file":"App.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap beaa2f72c75024ebb344","const previewEditor = document.querySelector('.preview');\nconst previewImgSrcs = Array.from(document.querySelectorAll('.preview_img')).map(img => img.src);\n\nconst handleDragStart = (e) => {\n    const index = previewImgSrcs.indexOf(e.target.src.replace(window.location.href, ''));\n    e.dataTransfer.setData('text/plain', index);\n    e.target.style.border = '2px dashed #e42b06';\n}\n\nconst handleDragEnd = (e) => {\n    e.target.style.border = 'none';\n}\n\nconst handleDragOver = (e) => {\n    e.preventDefault();\n}\n\nconst handleDrop = (e) => {\n    e.preventDefault();\n    if ( e.target.className == 'preview_img' ) {\n        const currentTargetSrc = e.target.src.replace(window.location.href, '');\n        const currentDroppedSrc = previewImgSrcs[parseInt(e.dataTransfer.getData('text/plain'))];\n        const targetIndex = previewImgSrcs.indexOf(currentTargetSrc);\n\n        previewImgSrcs[parseInt(e.dataTransfer.getData('text/plain'))] = currentTargetSrc;\n        previewImgSrcs[targetIndex] = currentDroppedSrc;\n\n        reRenderPreview(previewImgSrcs);\n    }\n}\n\n//touch\nconst ongoingTouchesSrcs = [];\n\nconst handleTouchStart = (e) => {\n    ongoingTouchesSrcs.push(e.target.src.replace(window.location.href, ''));\n    e.target.style.border = '2px dashed #e42b06';\n}\n\nconst handleTouchEnd = (e) =>{\n    if(ongoingTouchesSrcs.length >= 2){\n        let indexToSwap = previewImgSrcs.indexOf(ongoingTouchesSrcs[0]);\n        let currentIndex = previewImgSrcs.indexOf(e.target.src.replace(window.location.href, ''));\n        previewImgSrcs[currentIndex] = previewImgSrcs[indexToSwap];\n        previewImgSrcs[indexToSwap] = e.target.src.replace(window.location.href, '');\n        reRenderPreview(previewImgSrcs);\n        ongoingTouchesSrcs.length = 0;\n    }\n}\n\nconst reRenderPreview = (srcs) => {\n    previewEditor.innerHTML = '';\n\n    srcs.forEach(src => {\n        const image = new Image();\n        image.src = src;\n        image.setAttribute(\"class\", \"preview_img\");\n        image.setAttribute(\"draggable\", true);\n\n        previewEditor.appendChild(image);\n       });\n}\n\nexport{ previewEditor, \n        handleDragStart, \n        handleDragEnd, \n        handleDragOver, \n        handleDrop, \n        handleTouchStart, \n        handleTouchEnd};\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/modules/preview.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/sass/style.scss\n// module id = 1\n// module chunks = 0","import '../sass/style.scss';\n\nimport {previewEditor, \n        handleDragStart, \n        handleDragEnd, \n        handleDragOver, \n        handleDrop, \n        handleTouchStart, \n        handleTouchEnd} from './modules/preview';\n\npreviewEditor.addEventListener(\"dragstart\", handleDragStart);\npreviewEditor.addEventListener(\"dragend\", handleDragEnd);\npreviewEditor.addEventListener(\"dragover\", handleDragOver);\npreviewEditor.addEventListener(\"drop\", handleDrop);\npreviewEditor.addEventListener(\"touchstart\", handleTouchStart);\npreviewEditor.addEventListener(\"touchend\", handleTouchEnd);\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/instapaper-app.js"],"sourceRoot":""}